<link rel="import" href="../g2g/components/content-panel.html">
<link rel="import" href="./../listregistion/components/list-edit/list-registration.html">
<link rel="import" href="./../listregistion/components/register/register-pageRegister.html">
<link rel="import" href="./../listregistion/components/register/register-pageDetail.html">
<link rel="import" href="./../listregistion/components/register/register-fileup.html">
<link rel="import" href="./../../../bower_components/gl-form/gl-tabs.html">
<link rel="import" href="./components/confirm/confirm-allocate-edit.html">

<!-- <link rel="import" href="components/list-edit/list-registration-pause.html"> -->


<dom-module id="eu-confirm-allocate">
    <style is="custom-style" include="iron-flex iron-flex-factors iron-flex-alignment gl-size gl-color">
        * {
            font-family: 'rsuregular', sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        .container {
            margin-right: 10px;
        }
        
        .header {
            padding: 10px 0px 10px 10px;
            background-color: var(--paper-grey-100);
            color: var(--paper-grey-600);
            font-size: var(--font-size-h4);
            font-family: 'rsuregular', sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        .registor {
            margin: 20px;
        }
        
        .title {
            text-align: center;
            font-size: var(--font-size-h3);
            font-family: 'rsuregular', sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        .searchBox {
            padding: 5px;
            background-color: var(--gl-gray-lighter-color);
        }
        
        .elevation {
            border-radius: 5px;
            margin: 10px;
            padding: 5px;
        }
        
        .searchBorder {
            border: 1px solid var(--gl-gray-light-color);
            margin: 15px;
            border-radius: 3px
        }
        
        paper-material {
            background-color: var(--gl-white-color);
        }
        
        gl-search-input {
            margin: 30px 0px 0px 0px;
        }
        
        table.gl-table-default {
            border-collapse: collapse;
            width: 100%;
            overflow-x: auto;
            white-space: nowrap;
        }
        
        table.gl-table-default,
        th,
        td {
            border-bottom: 1px solid #ddd;
        }
        
        th,
        td {
            padding: 15px;
        }
        
        th {
            text-align: left;
            background-color: #F1F1F1;
        }
        
        td {
            text-align: left;
        }
        
        tr:hover {
            background-color: #F1F1F1;
        }
        
        .contentHeader {
            font-size: 22px;
            text-align: center;
        }
        paper-button{
            margin-bottom: 20px;
            height: 30px;
        }
            /*flex*/
            
            .flex-horizontal-with-ratios {
                @apply(--layout-horizontal);
            }
            
            .flexchild {
                @apply(--layout-flex);
            }
            
            .flex2child {
                @apply(--layout-flex-2);
            }
            
            .flex3child {
                @apply(--layout-flex-3);
            }
            
            .flex-horizontal {
                @apply(--layout-horizontal);
            }
            
            .flexchild {
                @apply(--layout-flex);
            }
            
            .flex-equal-around-justified {
                @apply(--layout-horizontal);
                @apply(--layout-around-justified);
            }
            
            .flex-center-justified {
                @apply(--layout-horizontal);
                @apply(--layout-center-justified);
            }
    </style>
    <template>

        <content-panel>
            <grid>
                <!-- <paper-material elevation="1" class="elevation"> -->


                <div class="layout vertical registor">
                    <div class="flex">
                        <div class="layout horizontal end-justified">
                            <!--<paper-button raised class="gl-btn-primary"on-tap="_toggleDrawer" id="addRedRegExporter"><iron-icon icon="add"></iron-icon> เพิ่มทะเบียนผู้ส่งออกข้าว</paper-button>-->
                        </div>
                    </div>
                    <div class="flex title">
                        ยืนยันรับส่วนจัดสรร
                    </div>
                    <div class="flex searchBox searchBorder">
                        <gl-grid-row width="{{getWidth}}">
                            <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]"></gl-grid-col>
                            <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,1]]">
                                <gl-form-label-input label="ปีโควตา" value="2559"></gl-form-label-input>
                            </gl-grid-col>
                            <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]">
                                <gl-form-dropdown-menu label="ประเภทข้าว">
                                    <paper-listbox class="dropdown-content">
                                        <paper-item>ข้าวขาว</paper-item>
                                        <paper-item>ข้าวหัก</paper-item>
                                    </paper-listbox>
                                </gl-form-dropdown-menu>
                            </gl-grid-col>
                            <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]">
                                <gl-form-dropdown-menu label="การคำนวณครั้งที่">
                                    <paper-listbox class="dropdown-content">
                                        <paper-item>1</paper-item>
                                        <paper-item>2</paper-item>
                                    </paper-listbox>
                                </gl-form-dropdown-menu>
                            </gl-grid-col>
                        </gl-grid-row>
                        <gl-grid-row>
                            <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]"></gl-grid-col>
                            <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]">
                                <gl-form-dropdown-menu label="ชื่อบริษัท">
                                    <paper-listbox class="dropdown-content">
                                        <paper-item>กมลกิจ บจก.</paper-item>
                                        <paper-item>กรุงเทพค้าข้าว บจก.</paper-item>
                                    </paper-listbox>
                                </gl-form-dropdown-menu>
                            </gl-grid-col>
                                <paper-button class="gl-btn-primary" raised>แสดงผลการรับส่วนจัดสรร</paper-button>
                        </gl-grid-row>
                    </div>
                    <div class="contentHeader">สรุปผลการยืนยันปริมาณจัดสรร</div>
                    <div class="flex searchBorder">

                        <div style="overflow-x:auto;">
                            <table class="gl-table-default">
                                <tr>
                                    <template is="dom-repeat" items="{{dataAmount.header}}">
                                        <th>{{item}}</th>
                                    </template>
                                </tr>
                                <tr>
                                    <template is="dom-repeat" items={{dataAmount.row1}}>
                                        <td on-tap="_toggleDrawer" id="addRedRegExporter">{{item}}</td>
                                    </template>
                                </tr>
                                <tr>
                                    <template is="dom-repeat" items={{dataAmount.row2}}>
                                        <td on-tap="_toggleDrawer" id="addRedRegExporter">{{item}}</td>
                                    </template>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>1034.00</th>
                                    <th>516.00</th>
                                    <th>259.00</th>
                                    <th>259.00</th>
                                </tr>
                            </table>
                        </div>


                    </div>

                    <div class="flex searchBorder">

                        <div style="overflow-x:auto;">
                            <table class="gl-table-default">
                                <tr>
                                    <template is="dom-repeat" items="{{dataAmount.header}}">
                                        <th>{{item}}</th>
                                    </template>
                                </tr>
                                <tr>
                                    <template is="dom-repeat" items={{dataAmount.row1}}>
                                        <td on-tap="_toggleDrawer" id="addRedRegExporter">{{item}}</td>
                                    </template>
                                </tr>
                                <tr>
                                    <template is="dom-repeat" items={{dataAmount.row2}}>
                                        <td on-tap="_toggleDrawer" id="addRedRegExporter">{{item}}</td>
                                    </template>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>1034.00</th>
                                    <th>516.00</th>
                                    <th>259.00</th>
                                    <th>259.00</th>
                                </tr>
                            </table>
                        </div>


                    </div>
                </div>
                <!-- </paper-material> -->

            </grid>
            <panel>
                <div class="left">
                   <confirm-allocate-edit></confirm-allocate>
                </div>
            </panel>
        </content-panel>
    </template>
    <script>
        Polymer({
            is: "eu-confirm-allocate",
            listeners: {
                'nx-grid-tap': 'nxGridTap'
            },
            behaviors: [
                gl.behavior.core,
                gl.behavior.locales
            ],
            properties: {
                layerContent: {
                    type: String,
                    value: "detailRegExporter"
                },
                dataAmount:{
                    type: Object,
                    value:
                      {
                        header:[
                          'ผู้ส่งออก',
                          'ปริมาณโควตารวม',
                          'งวดที่ 1 (มกราคม)',
                          'งวดที่ 2 (เมษายน)',
                          'งวดที่ 3 (กรกฏาคม)'
                        ],
                        row1:[
                            'กมลกิจ บจก',
                            '899.00',
                            '449.00',
                            '225.00',
                            '225.00'
                          ],
                          row2:[
                            'กรุงเทพค้าข้าว',
                            '135.00',
                            '67.00',
                            '34.00',
                            '34.00'
                          ]  
                      }
                },
                dataRegistion: {
                    type: Object,
                    notify: true,
                    value:
                    [
                      {
                        id:1,
                        regisExporters:"ข1003",
                        companyName:"สำเภาทอง",
                        licenceType:"ไม่เกิน 12 กก.",
                        approvalDate:"18/09/255"
                      },
                      {
                        id:2,
                        regisExporters:"ข5/2559",
                        companyName:"กรุงไทย พืชผล บจก.",
                        licenceType:"ชายแดน",
                        approvalDate:"18/09/2559"
                      },
                      {
                        id:3,
                        regisExporters:"ข2/2559",
                        companyName:"โรงสีทรัพย์อนันต์",
                        licenceType:"ชายแดน",
                        approvalDate:"17/09/255"
                      },
                      {
                        id:4,
                        regisExporters:"ข003",
                        companyName:"รุสกี อิมปอร์ต เอ็กปอร์ต",
                        licenceType:"ทั่วไป",
                        approvalDate:"17/09/2559"
                      }

                    ]
                },

                searchType: {
                    type: Object,
                    value: [{
                        id: 1,
                        name: 'ทั้งหมด'
                    }, {
                        id: 2,
                        name: 'ผู้ส่งออกที่ถูกระงับ'
                    } ]
                },
                result: {
                    type: Object,
                    observer: '_result'
                }
            },
            created: function() {
                this.glSetTitle('ระบบขึ้นทะเบียนผู้ส่งออกข้าว');
                this.glSetLayout('layout-registion');

            },
            ready:function(){
              // console.log(this.dataAmount.content[0]);
            },
            attached: function() {
                // this.layoutMain = this.glQuery('layoutMain');
            },
            _result:function () {
              console.log(this.result);
            },
            nxGridTap: function(e) {
              // console.log(e.detail.level);
              // console.log(e.detail.data);
              // console.log(this.layerContent );
                this.layerContent = e.detail.level;
                // console.log(this.layerContent);
                if (this.layerContent === 'third') {
                    this.vesselPage = 1;
                } else {
                    this.vesselPage = 0;
                }
                this.dataSelect = e.detail.data;
            },
            _toggleDrawer: function(e) {
              this.glQuery('contentPanel').changDrawer();
              this.layerContent = e.target.id;
              // console.log(e.target.id);
            }
        });
    </script>
</dom-module>