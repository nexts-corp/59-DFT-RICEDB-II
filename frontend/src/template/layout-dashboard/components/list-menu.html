<dom-module id="list-menu" inclue="iron-flex iron-flex-factors iron-flex-alignment">
  <style>
    .subMenu{
      padding-left: 15%;
    }
  </style>
  <template>
    <paper-menu>
      <template is="dom-repeat" items="[[menuData]]">
        <paper-submenu>
        <paper-item class="menu-trigger">
          <div class="layout horizontal">
            <div class="flex">
              <div on-tap="getUrl" url$="[[item.url]]">
                [[item.nameMenu]]
              </div>
            </div>
            <div class="flex">
              <template is="dom-if" if="[[item.subMenu]]">
                <paper-icon-button icon="chevron-right" item-icon  on-tap="_getSub"></paper-icon-button>
              </template>
            </div>
          </div>
        </paper-item>
        <template is="dom-if" if="[[item.subMenu]]">
          <paper-menu class="menu-content">
            <template is="dom-repeat" items="[[item.subMenu]]">
                <paper-item>
                  <div class="subMenu" on-tap="getUrl" url$="[[item.url]]">
                    [[item.nameMenu]]
                  </div>
                </paper-item>
            </template>
          </paper-menu>
        </template>

      </paper-submenu>
      </template>

    </paper-menu>
  </template>
  <script>
    Polymer({
      is: "list-menu",
      behaviors: [
        gl.behavior.core
      ],
      properties: {
        menuData: {
          type: Object,
          value:
          [
            {
              id:1,
              nameMenu:'ระบบการซื้อขายข้าวรัฐบาลต่อรัฐบาล',
              url:'/gtog/add-contract'
            },
            {
              id:2,
              nameMenu:'ระบบการการขึ้นทะเบียน',
              url:'/listregistion/add-registion-exporter',
              subMenu:
              [
                {
                  id:1,
                  nameMenu:'รายชื่อผู้ได้รับหนังสืออนุญาติให้ประกอบการค้าข้าว',
                  url:'/listregistion/report-list-exporter-license'
                },
                {
                  id:2,
                  nameMenu:'รายชื่อบริษัทส่งออกข้าวต่างประเทศ และคณะกรรมการบริษัท',
                  url:'/listregistion/report-list-export-board'
                },
                {
                  id:2,
                  nameMenu:'รายชื่อและที่อยู่ของผู้ส่งออกข้าว',
                  url:'/listregistion/report-list-exporter-address'
                },
                {
                  id:2,
                  nameMenu:'รายชื่อบริษัทผู้ส่งออกข้าวประเภทค้าข้าวส่งไปจำหน่ายต่างประเทศ',
                  url:'/listregistion/report-list-export-company'
                }
              ]
            },
            {
              id:3,
              nameMenu:'WTO',
              url:'/wto/'
            },
            {
              id:4,
              nameMenu:'EU',
              url:'/eu/'
            },
            {
              id:5,
              nameMenu:'เว็ป Thairiceinfo.go.th',
              url:'http://thairiceinfo.go.th/'
            }
          ]
        }
      },
      getUrl:function (e) {
        // console.log(e.target.getAttribute("url"));
        var url = e.target.getAttribute('url')
        this.glChangePath(url);
      },
      _getSub:function (e) {
        console.log(e);
      }
    });
  </script>
</dom-module>
