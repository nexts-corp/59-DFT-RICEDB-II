{"version":3,"sources":["vaadin-date-picker.ts"],"names":[],"mappings":"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","file":"vaadin-date-picker.js","sourcesContent":["import {\nInjector,\nOnInit,\nDirective,\nElementRef,\nOutput,\nHostListener,\nEventEmitter,\nProvider,\nforwardRef,\nRenderer\n} from '@angular/core';\nimport { NgControl, NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/common';\n\nconsole.warn(\n  'The `VaadinDatePicker` directive is deprecated. Please use ' +\n  '`PolymerElement(\\'vaadin-date-picker\\')` from the ' +\n  '`@vaadin/angular2-polymer` npm package instead.'\n);\n\nconst Polymer = (<any>window).Polymer;\n\nconst VAADIN_DATE_PICKER_CONTROL_VALUE_ACCESSOR = new Provider(\n  NG_VALUE_ACCESSOR, {\n    useExisting: forwardRef(() => VaadinDatePicker),\n    multi: true\n  });\n\n@Directive({\n  selector: 'vaadin-date-picker',\n  providers: [VAADIN_DATE_PICKER_CONTROL_VALUE_ACCESSOR]\n})\nexport class VaadinDatePicker implements ControlValueAccessor, OnInit {\n\n  private _element: any;\n  private _renderer: any;\n  private _control: any;\n  private _initialValueSet = false;\n\n  onChange = (_: any) => { };\n  onTouched = () => { };\n\n  writeValue(value: any): void {\n    this._renderer.setElementProperty(this._element, 'value', value);\n  }\n\n  registerOnChange(fn: (_: any) => void): void { this.onChange = fn; }\n  registerOnTouched(fn: () => void): void { this.onTouched = fn; }\n\n\n  ngOnInit() {\n    this._control = this._injector.get(NgControl, null);\n  }\n\n  @Output() valueChange: EventEmitter<any> = new EventEmitter(false);\n  @HostListener('value-changed', ['$event.detail.value'])\n  valuechanged(value: any) {\n    this.valueChange.emit(value);\n\n    if (this._initialValueSet) {\n      // Do not trigger onChange when the initial (empty) value is set\n      // to keep the field as \"pristine\".\n      this.onChange(value);\n    } else {\n      this._initialValueSet = true;\n    }\n\n    // Pass the invalid state to our native vaadin-date-picker element if\n    // it is an ngControl.\n    if (this._control != null) {\n      setTimeout(() => {\n        this._element.invalid = !this._control.pristine && !this._control.valid;\n      }, 0);\n    }\n  }\n\n  constructor(renderer: Renderer, el: ElementRef, private _injector: Injector) {\n    if (!Polymer || Â !Polymer.isInstance(el.nativeElement)) {\n      console.error(\"vaadin-date-picker has not been imported yet, please remember to import vaadin-date-picker.html in your main HTML page.\");\n      return;\n    }\n\n    this._renderer = renderer;\n    this._element = el.nativeElement;\n    this._element.$$('paper-input-container').addEventListener('blur', () => {\n      if (!this._element.opened && !this._element._opened) {\n        this.onTouched();\n      }\n    });\n  }\n}\n"],"sourceRoot":"/source/"}