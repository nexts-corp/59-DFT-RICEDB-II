
<!--<link rel="import" href="../paper-input/paper-input.html">-->
<link rel="import" href="../iron-input/iron-input.html">
<link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="../paper-input/paper-input-error.html">
<link rel="import" href="../paper-input/paper-input-behavior.html">
<link rel="import" href="../paper-input/paper-input-char-counter.html">
<link rel="import" href="../paper-input/paper-input-container.html">





<dom-module id="gl-form-input">
    
    <template>
   <paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">
       
        <content select="[prefix]"></content>

        <label hidden$="[[!label]]" aria-hidden="true" for="input">[[label]]</label>

        <input is="iron-input" id="input"
            aria-labelledby$="[[_ariaLabelledBy]]"
            aria-describedby$="[[_ariaDescribedBy]]"
            disabled$="[[disabled]]"
            title$="[[title]]"
            bind-value="{{value}}"
            invalid="{{invalid}}"
            prevent-invalid-input="[[preventInvalidInput]]"
            allowed-pattern="[[allowedPattern]]"
            validator="[[validator]]"
            type$="[[type]]"
            pattern$="[[pattern]]"
            required$="[[required]]"
            autocomplete$="[[autocomplete]]"
            autofocus$="[[autofocus]]"
            inputmode$="[[inputmode]]"
            minlength$="[[minlength]]"
            maxlength$="[[maxlength]]"
            min$="[[min]]"
            max$="[[max]]"
            step$="[[step]]"
            name$="[[name]]"
            placeholder$="[[placeholder]]"
            readonly$="[[readonly]]"
            list$="[[list]]"
            size$="[[size]]"
            autocapitalize$="[[autocapitalize]]"
            autocorrect$="[[autocorrect]]"
            on-change="_onChange"
            tabindex$="[[tabindex]]"
            autosave$="[[autosave]]"
            results$="[[results]]"
            accept$="[[accept]]"
            multiple$="[[multiple]]" on-blur="InputOnBlur" on-focus="InputOnFocus">

        <content select="[suffix]"></content>

        <template is="dom-if" if="[[errorMessage]]">
            <paper-input-error aria-live="assertive">[[errorMessage]]</paper-input-error>
        </template>

        <template is="dom-if" if="[[charCounter]]">
            <paper-input-char-counter></paper-input-char-counter>
        </template>

        </paper-input-container>
    </template>
    <script>
        Polymer({
            is: 'gl-form-input',
            behaviors : [
                Polymer.IronFormElementBehavior,
                Polymer.PaperInputBehavior
            ],
            InputOnBlur : function(e){
            console.log(e.target.validate());
                if(e.target.validate()){
                    console.log('Sucess!!');
                    this.customStyle['--paper-input-container-color'] =  "green";
                }
                this.updateStyles();
            },
            InputOnFocus : function(e){
                console.log('focus');
                this.customStyle['--paper-input-container-color'] =  "#737373";
                this.updateStyles();
            }
            });
    </script>
</dom-module>
