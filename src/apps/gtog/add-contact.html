<link rel="import" href="panel-seleted.html">
<link rel="import" href="components/grid/nx-grid.html">
<link rel="import" href="components/content-panel.html">

<link rel="import" href="components/promise/promise-confirm.html">
<link rel="import" href="components/promise/promise-detail.html">
<link rel="import" href="components/promise/promise-fileup.html">
<link rel="import" href="components/vessel/vessel-print.html">

<dom-module id="gtog-add-contact">
  <template>
    <content-panel>
      <grid>
        <nx-grid data="{{data}}">
          <items type="primary">
            <list item="promiseName" label="ชื่อ" width="flex-2"></list>
            <list item="totalRice" label="ทั้งหมด (ตัน) /" width="flex"></list>
            <list item="sendRice" label="ส่งแล้ว (ตัน) /" width="flex"></list>
            <list item="balanceRice" label="เหลือ (ตัน)" width="flex"></list>
          </items>
          <items type="secondary" item="sub">
            <list item="" label="" width=""></list>
            <list item="confirmLetter" label="Confirmation Letter" width="flex-3"></list>
            <list item="cmlTotalRice" label="" width="flex"></list>
            <list item="cmlSendRice" label="" width="flex"></list>
            <list item="cmlBalanceRice" label="" width="flex"></list>
          </items>
          <items type="third" item="sub3">
            <list item="" label="" width=""></list>
            <list item="period" label="งวดการส่งมอบ" width="flex-9"></list>
          </items>
          <template type="primary">
            <input placeholder="text" value="primary">
          </template>
          <template type="secondary">
            <input placeholder="text" value="secondary">
          </template>
        </nx-grid>
      </grid>
      <panel>
        <panel-seleted>
          <section-content name="detail">

            <iron-pages selected="{{layerContent}}" attr-for-selected="name">
              <promise-detail name="primary" data="{{dataSelect}}"></promise-detail>
              <promise-confirm name="secondary" data="{{dataSelect}}"></promise-confirm>
              <!--แก้ใส่แท็กฟรอม -->
              <promise-confirm name="third" data="{{dataSelect}}"></promise-confirm>
              <!--  -->
            </iron-pages>

          </section-content>
          <section-content name="print">
            <vessel-print></vessel-print>
          </section-content>
          <section-content name="file">
            <promise-fileup></promise-fileup>
          </section-content>
        </panel-seleted>

      </panel>
    </content-panel>
  </template>
  <script>
    Polymer({
      is: "gtog-add-contact",
      listeners:{
        'nx-grid-tap':'nxGridTap',
        'nx-grid-dblclick':'nxGridDblclick'
      },
      behaviors: [
        nxCoreBehavior,
        nxLocalesBehavior
      ],
      properties:{
          layerContent:{
            type:String,
            value:"primary"
          },
          data:{
            type:Object,
            value:function(){
              return [
                {
                  id:1 ,
                  promiseName:'COFCO ประเทศจีน ',
                  totalRice:'1,000,000',
                  sendRice:'-',
                  balanceRice:'1,000,000',
                  date:'21/9/58',
                  price:'fob',
                  rice:[{
                    riceType:'jasmineRice',
                    volume:500000
                  }],
                  customerDetail:'COFCO International (Beijing) LTD,. 17F, COFCO Fortune Plaza, No. 8 Chao Yang Men, South Street, Chao Yang District, Beijing, 100020, P.R. Chian Fax: 010-5863 6311',
                  detail:'ต้องการการข้าวเพิ่มอีก 1,000,000 ล้านตัน',
                  sub:[
                    {
                      id:1,
                      confirmLetter:'Confirmmation Letter No. 1',
                      cmlTotalRice:'100,000',
                      cmlSendRice:'-',
                      cmlBalanceRice:'100,000',
                      dateconfirm:'25/09/58',
                      detail:'ต้องการการข้าวเพิ่มอีก 1,000,000 ล้านตัน',
                      confirmItem:[{
                        id:1,
                        item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                        package:'50',
                        price:'392'
                      },
                      {
                        id:2,
                        item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                        package:'25',
                        price:'392'
                      }
                     ]
                   },
                   {
                     id:2,
                     confirmLetter:'Confirmmation Letter No. 2',
                     cmlTotalRice:'100,000',
                     cmlSendRice:'-',
                     cmlBalanceRice:'100,000',
                     dateconfirm:'25/11/58',
                     detail:'รายละเอียดเพิ่มเติม',
                     confirmItem:[{
                       id:1,
                       item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                       package:'25kg PP bags',
                       price:'USD392/MT'
                     }
                    ]
                   }
                 ],
                 sub3:[
                   {
                       id:1,
                       period:"งวดที่ 1"
                   },
                   {
                       id:2,
                       period:"งวดที่ 2"
                   },
                 ]
                },
                {
                  id:2 ,
                  promiseName:'BULOG  ประเทศอินโดนีเซีย',
                  promiseNo:'BULOG  ประเทศอินโดนีเซีย',
                  totalRice:'5,000,000',
                  sendRice:'2,000,000',
                  balanceRice:'3,000,000',
                  date:'21/9/58',
                  price:'fob',
                  rice:[{
                    riceType:'jasmineRice',
                    volume:900000
                  }],
                  customerDetail:'COFCO International (Beijing) LTD,. 17F, COFCO Fortune Plaza, No. 8 Chao Yang Men, South Street, Chao Yang District, Beijing, 100020, P.R. Chian Fax: 010-5863 6311',
                  detail:'ต้องการการข้าวเพิ่มอีก 1,000,000 ล้านตัน',
                  sub:[
                    {
                      id:1,
                      confirmLetter:'Confirmmation Letter No. 1',
                      cmlTotalRice:'200,000',
                      cmlSendRice:'200,000',
                      cmlBalanceRice:'-',
                      dateconfirm:'25/09/58',
                      detail:'ต้องการการข้าวเพิ่มอีก 1,000,000 ล้านตัน',
                      confirmItem:[{
                        id:1,
                        item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                        package:'40kg PP bags',
                        price:'USD392/MT'
                      },{
                        id:2,
                        item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                        package:'25kg PP bags',
                        price:'USD392/MT'
                      }
                     ]
                    }
                  ],
                  sub3:[
                    {
                        id:1,
                        period:"งวดที่ 1"
                    },
                    {
                        id:2,
                        period:"งวดที่ 2"
                    },
                  ]
                },
                {
                  id:3 ,
                  promiseName:'NFA ประเทศฟิลิปินส์',
                  promiseNo:'NFA ประเทศฟิลิปินส์',
                  totalRice:'3,000,000',
                  sendRice:'1,000,000',
                  balanceRice:'2,000,000',
                  date:'21/9/58',
                  price:'fob',
                  rice:[{
                    riceType:'jasmineRice',
                    volume:500000
                  }],
                  customerDetail:'COFCO International (Beijing) LTD,. 17F, COFCO Fortune Plaza, No. 8 Chao Yang Men, South Street, Chao Yang District, Beijing, 100020, P.R. Chian Fax: 010-5863 6311',
                  detail:'ต้องการการข้าวเพิ่มอีก 1,000,000 ล้านตัน',
                  sub:[
                    {
                      id:1,
                      confirmLetter:'Confirmmation Letter No. 1',
                      cmlTotalRice:'150,000',
                      cmlSendRice:'100,000',
                      cmlBalanceRice:'50,000',
                      dateconfirm:'25/09/58',
                      detail:'ต้องการการข้าวเพิ่มอีก 1,000,000 ล้านตัน',
                      confirmItem:[{
                        id:1,
                        item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                        package:'50kg PP bags',
                        price:'USD392/MT'
                      },{
                        id:2,
                        item:'Thai White Rice 5% Brokens, 2015 Current New Crop',
                        package:'25kg PP bags',
                        price:'USD392/MT'
                      }
                     ]
                    }
                  ],
                  sub3:[
                    {
                        id:1,
                        period:"งวดที่ 1"
                    },
                    {
                        id:2,
                        period:"งวดที่ 2"
                    },
                  ]
                }
              ]}
        }
      },
      created:function(){
        this.nxSetTitle('ทำสัญญา');
        this.nxSetLayout('layout-main');

      },
      attached: function() {
        this.layoutMain = this.nxGetGlobalElement('layoutMain');
      },
      nxGridTap:function(e){
        this.layerContent = e.detail.level;
        // console.log(this.layerContent);
        this.dataSelect = e.detail.data;
        // console.log(this.dataSelect);
      },
      nxGridDblclick:function(e){
        // if (e.detail.level == 'primary') {
          // this.nxChangePath('/gtog/add-period');
          //this.layoutMain.changePath('/gtog/add-period');
        // }
      }
    });
  </script>
</dom-module>
