<link rel="import" href="components/grid/nx-grid.html">
<link rel="import" href="components/content-panel.html">
<link rel="import" href="components/my-panel.html">

<link rel="import" href="components/vessel/vessel-detail.html">
<link rel="import" href="components/vessel/vessel-print.html">
<link rel="import" href="components/vessel/vessel-draf.html">
<dom-module id="gtog-add-vessel">

  <template>

    <content-panel>
      <grid>
        <nx-grid data="{{data}}">
          <items type="primary">
            <list item="vesselName" label="ชื่อเรือ" width="flex"></list>
            <list item="vesselOrder" label="ลำที" width="flex"></list>
          </items>
          <items type="secondary" item="sub">
            <list item="" label="" width="flex"></list>
            <list item="cityDestination" label="เมืองท่าปลายท่า" width="flex-9"></list>
          </items>
          <template type="primary">
            <input placeholder="text" value="primary">
          </template>
          <template type="secondary">
            <input placeholder="text" value="secondary">
          </template>
        </nx-grid>
      </grid>
      <panel>
        <panel-seleted>
          <section-content name="detail">

            <iron-pages selected="{{layerContent}}" attr-for-selected="name">
              <vessel-detail name="primary" data="{{dataSelect}}"></vessel-detail>
              <vessel-draf name="primary" data="{{dataSelect}}"></vessel-draf>
            </iron-pages>

          </section-content>
          <section-content name="print">
            <vessel-print></vessel-print>
          </section-content>
          <section-content name="file">
            <promise-fileup></promise-fileup>
          </section-content>
        </panel-seleted>

      </panel>
    </content-panel>

  </template>
  <script>
    Polymer({
      is: "gtog-add-vessel",
      listeners:{
        'nx-grid-tap':'nxGridTap',
        'nx-grid-dblclick':'nxGridDblclick'
      },
      behaviors: [
        nxCoreBehavior,
        nxLocalesBehavior
      ],
      properties:{
        layerContent:{
          type:String,
          value:"primary"
        },
        pageSeletedDetail:{
            type:String,
            value:'vesselDraf'
          },
          data:{
            type:Object,
            value:function(){
              return [
                {
                  id:1,
                  vesselName:'Hanjin Belawan V.1609',
                  vesselLine:'cscl',
                  vesselOrder:50,
                  actualShipper:'Toumi Food And Product CO., LTD',
                  notifyParty:'COFCO Internation (Beijing) LTD,. 17F, COFCO Fortune Plaza, No. 8 ChaoYang Men, South Street, Chao Yang District, Beijinhg, 100020,P.R. Chian Fax : 010-5863 6311',
                  note:'note',
                  date:'24/4/2559',
                  bookIngShipping:'Sinotrans Thai Logistics Co., LTD',
                  bookIngNo:'SITGBUU0678088',
                  pol:'THBKK',
                  etd:'26/04/2016',
                  eta:'10/05/2016',
                  pod:'Yueyang',
                  blNo:'SITGBUU0678088',
                  actual:[
                    {
                      actualShipper:'Toumi Food And Product CO., LTD',
                      quantity:50,
                      tonPerusd:'USD 397/MT',
                      weightGram:40,
                      weightMt:1000,
                      quantitySack:80,
                      Marks:'makes',
                      descriptionOfGood:'Thai White Rice 5% Brokens, 2014 Current New Crop, Double-Polished And Sortexed Quality.',
                      packing:'In Strong Export Seaworthy New Single PP bags Of 50 Kilograms Net, Minimum Tare Weight to be at 80 Gram/Bag',
                      gw:100,
                      nw:5000
                    }
                    ],
                  consigned:'ลายเซ็น',
                  notify:'แจ้งเตือน',
                  detail:'รายละเอียด',
                  ori:3,
                  nn:12
                },
                {
                  id:2,
                  vesselName:'ZHONG XING 898',
                  vesselLine:'cscl',
                  vesselOrder:56,
                  actualShipper:'Toumi Food And Product CO., LTD',
                  notifyParty:'COFCO Internation (Beijing) LTD,. 17F, COFCO Fortune Plaza, No. 8 ChaoYang Men, South Street, Chao Yang District, Beijinhg, 100020,P.R. Chian Fax : 010-5863 6311',
                  note:'note',
                  date:'24/4/2559',
                  bookIngShipping:'Sinotrans Thai Logistics Co., LTD',
                  bookIngNo:'SITGBUU0678088',
                  pol:'THBKK',
                  etd:'26/04/2016',
                  eta:'10/05/2016',
                  pod:'Yueyang',
                  blNo:'SITGBUU0678088',
                  actual:[
                    {
                      actualShipper:'Toumi Food And Product CO., LTD',
                      quantity:40,
                      tonPerusd:'USD 397/MT',
                      weightGram:80,
                      weightMt:1000,
                      quantitySack:100,
                      Marks:'makes',
                      descriptionOfGood:'Thai White Rice 5% Brokens, 2014 Current New Crop, Double-Polished And Sortexed Quality.',
                      packing:'In Strong Export Seaworthy New Single PP bags Of 50 Kilograms Net, Minimum Tare Weight to be at 80 Gram/Bag',
                      gw:500,
                      nw:1500
                    }
                  ],
                  consigned:'ลายเซ็น',
                  notify:'แจ้งเตือน',
                  detail:'รายละเอียด',
                  ori:3,
                  nn:12
                },
                {
                  id:3,
                  vesselName:'SHUN HONG HAI 828',
                  vesselLine:'cscl',
                  vesselOrder:90,
                  actualShipper:'Toumi Food And Product CO., LTD',
                  notifyParty:'COFCO Internation (Beijing) LTD,. 17F, COFCO Fortune Plaza, No. 8 ChaoYang Men, South Street, Chao Yang District, Beijinhg, 100020,P.R. Chian Fax : 010-5863 6311',
                  note:'note',
                  date:'24/4/2559',
                  bookIngShipping:'Sinotrans Thai Logistics Co., LTD',
                  bookIngNo:'SITGBUU0678088',
                  pol:'THBKK',
                  etd:'26/04/2016',
                  eta:'10/05/2016',
                  pod:'Yueyang',
                  blNo:'SITGBUU0678088',
                  actual:[
                    {
                      actualShipper:'Toumi Food And Product CO., LTD',
                      quantity:25,
                      tonPerusd:'USD 397/MT',
                      weightGram:40,
                      weightMt:1000,
                      quantitySack:140,
                      Marks:'makes',
                      descriptionOfGood:'Thai White Rice 5% Brokens, 2014 Current New Crop, Double-Polished And Sortexed Quality.',
                      packing:'In Strong Export Seaworthy New Single PP bags Of 50 Kilograms Net, Minimum Tare Weight to be at 80 Gram/Bag',
                      gw:5000,
                      nw:2000
                    }
                  ],
                  consigned:'ลายเซ็น',
                  notify:'แจ้งเตือน',
                  detail:'รายละเอียด',
                  ori:3,
                  nn:12
                  }
                ]}
        }
      },
      changeDiv:function(){
        var css = Polymer.dom(this.root).querySelector('#changeDivcss');
        // เช็คว่ามีแล้วหรือยัง ถ้ามีแล้วก็ไม่เพิ่ม
        // console.log(css);
        console.log(css.classList.contains('flexchild-2'));
        if (css.classList.contains('flexchild-2') == false){
          // css.style.display = "inline";
          css.className += " flexchild-2";
        }else{
          // css.style.display = "none";
          css.classList.remove("flexchild-2");
        }

      },
      created:function(){
        this.nxSetTitle('ทำสัญญา');
        this.nxSetLayout('layout-main');
      },
      nxGridTap:function(e){
        this.layerContent = e.detail.level;
        this.dataSelect = e.detail.data;
        // console.log(this.dataSelect);
      },
      nxGridDblclick:function(e){
        if (e.detail.level != 'primary') {
          this.nxChangePath('/gtog/add-vessel');
        }
      }

    });
  </script>
</dom-module>
