<dom-module id="list-vessel">
  <style include="iron-flex iron-flex-factors">
      .head{
        text-align: center;
        background-color: var(--paper-grey-100);
        /*padding: 10px 0px 10px 10px;*/
        padding: 0px;
        height: 48px;
        line-height: 48px;
        color: var(--paper-grey-600);
      }
      paper-icon-item.lineButtom{
        --paper-icon-item:{
            border-bottom:1px solid #ccc;
        }
      }
      .collapse-content {
        padding: 15px;
        border: 1px solid #dedede;
      }
      .cleanBd{
        padding: 0px;
        height: 48px;
        line-height: 48px;
      }
      .bd{
        border: 1px solid #000;
      }
      .fontPdLeft{
        padding-left: 5px;
        word-wrap: break-word;
      }
  </style>
    <template>
      <gl-grid-row width="{{getWidth}}">
        <gl-grid-col class="head bd" width="[[getWidth]]" grid="[[500,4]]">ผู้ส่งออก</gl-grid-col>
        <gl-grid-col class="head bd" width="[[getWidth]]" grid="[[500,4]]">ชนิดข้าว</gl-grid-col>
        <gl-grid-col class="head bd" width="[[getWidth]]" grid="[[500,2]]">Price (USD/MT)</gl-grid-col>
        <gl-grid-col class="head bd" width="[[getWidth]]" grid="[[500,2]]">จำนวน/ตัน</gl-grid-col>
      </gl-grid-row>
        <div class="fancy cleanBd" on-tap="toggle" aria-controls="collapse1">
          <gl-grid-row>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,4]]"><div class="fontPdLeft">Toumi Foods and Prosucts co.,ltd</div></gl-grid-col>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,4]]"><div class="fontPdLeft">Thai White Rice 5% Brokens,</div></gl-grid-col>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,2]]"><div class="fontPdLeft">392</div></gl-grid-col>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,2]]"><div class="fontPdLeft">1,000</div></gl-grid-col>
          </gl-grid-row>
        </div>
        <iron-collapse id="collapse1">
          <div class="collapse-content">
            <button type="button" name="button" on-tap="editChange">แก้ไข</button>
            <button type="button" name="button" on-tap="finChange">บันทึก</button>
            <paper-input label="ทดสอบการปิด" disabled value="ทดสอบการเพิ่ม"></paper-input>
            <paper-input label="ทดสอบการปิด" disabled value="ทดสอบการเพิ่ม"></paper-input>
            <paper-input label="ทดสอบการปิด" disabled value="ทดสอบการเพิ่ม"></paper-input>
          </div>
        </iron-collapse>

        <div class="fancy cleanBd" on-tap="toggle" aria-controls="collapse2">
          <gl-grid-row>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,4]]"><div class="fontPdLeft">Capital Seril co.,ltd</div></gl-grid-col>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,4]]"><div class="fontPdLeft">Thai White Rice 5% Brokens,</div></gl-grid-col>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,2]]"><div class="fontPdLeft">397</div></gl-grid-col>
            <gl-grid-col class="cleanBd bd" width="[[getWidth]]" grid="[[500,2]]"><div class="fontPdLeft">1,000</div></gl-grid-col>
          </gl-grid-row>
        </div>
        <iron-collapse id="collapse2">
          <div class="collapse-content">

            <button type="button" name="button" on-tap="editChange">แก้ไข</button>
            <button type="button" name="button" on-tap="finChange">บันทึก</button>
            <paper-input label="ทดสอบการปิด" disabled value="ทดสอบการเพิ่ม"></paper-input>
            <paper-input label="ทดสอบการปิด" disabled value="ทดสอบการเพิ่ม"></paper-input>
            <paper-input label="ทดสอบการปิด" disabled value="ทดสอบการเพิ่ม"></paper-input>

          </div>
        </iron-collapse>



    </template>

    <script>
        Polymer({
           is:'list-vessel',
           toggle: function(e) {
              var targetAttribute = e.currentTarget.getAttribute('aria-controls');
              this.$$('#'+targetAttribute).toggle();
            },
            editChange:function(e){
              var change = this._edit(e);
              change.map((el)=>{
                  el.removeAttribute("disabled");
              })
            },
            finChange:function(e){
              var change = this._edit(e);
              change.map((el)=>{
                  el.setAttribute('disabled', '')
              })
            },
            _edit:function(e){
              var editText = '#'+e.target.parentElement.parentElement.getAttribute('id');
              var change = Polymer.dom(this.$$(editText)).querySelectorAll('paper-input');
              return change;
            }
        });


    </script>
</dom-module>
