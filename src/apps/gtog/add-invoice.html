<link rel="import" href="panel-seleted.html">
<link rel="import" href="components/grid/nx-grid.html">
<link rel="import" href="components/content-panel.html">

<link rel="import" href="components/invoice/invoice-detail.html">
<link rel="import" href="components/invoice/invoice-print.html">
<link rel="import" href="components/promise/promise-fileup.html">
<link rel="import" href="components/vessel/vessel-print.html">
<dom-module id="gtog-add-invoice">

  <template>


    <content-panel>
      <grid>
        <nx-grid data="{{data}}">
          <items type="primary">
            <list item="invoiceNo" label="Invoice" width="flex"></list>
            <list item="quantity" label="จำนวน/ตัน" width="flex"></list>
          </items>
          <items type="secondary" item="sub">
            <!-- <list item="" label="" width="flex"></list> -->
            <!-- <list item="detailMoney" label="+ เพิ่ม รายละเอียดการรับเงิน" width="flex-9"></list> -->
          </items>
          <template type="primary">
            <input placeholder="text" value="primary">
          </template>
          <template type="secondary">
            <input placeholder="text" value="secondary">
          </template>
        </nx-grid>
      </grid>
      <panel>
        <panel-seleted>
          <section-content name="detail">

            <iron-pages selected="{{layerContent}}" attr-for-selected="name">
              <invoice-detail name="primary" data="{{dataSelect}}"></invoice-detail>
            </iron-pages>

          </section-content>
          <section-content name="print">
            <vessel-print></vessel-print>
          </section-content>
          <section-content name="file">
            <promise-fileup></promise-fileup>
          </section-content>
        </panel-seleted>

      </panel>
    </content-panel>
  </template>
  <script>
    Polymer({
      is: "gtog-add-invoice",
      listeners:{
        'nx-grid-tap':'nxGridTap',
        'nx-grid-dblclick':'nxGridDblclick'
      },
      behaviors: [
        nxCoreBehavior,
        nxLocalesBehavior
      ],
      properties:{
          layerContent:{
            type:String,
            value:"primary"
          },
          pageSeletedDetail:{
            type:String,
            value:'invoiceDetail'
          },
          data:{
            type:Object,
            value:function(){
              return [
                {
                  id:1 ,
                  invoiceNo:'c277/2558',
                  quantity:100000,
                  date:'22/05/2558',
                  bill:'COAU7130202710',
                  invoiceOf:'Bejin',
                  shippedPer:'ZHONG XING 898',
                  portOfLoading:'THBKK',
                  portOfDischarge:'YueyYang(Cheng Ling Ji)',
                  portOFDelivery:'YueyYang(Cheng Ling Ji)',
                  orderAndAcc:'คำสั่งที่ 12',
                  madeOutTo:'ส่งออก',
                  lot:[
                    {
                      id:1,
                      Marks:'makes',
                      descriptionOfGood:'Thai White Rice 5% Brokens, 2014 Current New Crop, Double-Polished And Sortexed Quality.',
                      packing:'In Strong Export Seaworthy New Single PP bags Of 50 Kilograms Net, Minimum Tare Weight to be at 80 Gram/Bag',
                      quantity:40,
                      price:400,
                      tonPerusd:397,
                      gw:500,
                      tare:5.6,
                      nw:1500,
                      amount:'200,000.00'
                    }
                  ],
                  total:60,
                  totalGross:2007.2,
                  tare:7.2,
                  netWeight:2000,
                  Amount:'402,250.00',
                  detail:'รายละเอียดเพิ่มเติม'
                },
                {
                  id:2 ,
                  invoiceNo:'c300/2558',
                  quantity:200000,
                  date:'22/05/2558',
                  bill:'COAU7130202711',
                  invoiceOf:'Bejin',
                  shippedPer:'ZHONG XING 898',
                  portOfLoading:'THBKK',
                  portOfDischarge:'YueyYang(Cheng Ling Ji)',
                  portOFDelivery:'YueyYang(Cheng Ling Ji)',
                  orderAndAcc:'คำสั่งที่ 12',
                  madeOutTo:'ส่งออก',
                  lot:[
                    {
                      id:1,
                      Marks:'makes',
                      descriptionOfGood:'Thai White Rice 5% Brokens, 2014 Current New Crop, Double-Polished And Sortexed Quality.',
                      packing:'In Strong Export Seaworthy New Single PP bags Of 50 Kilograms Net, Minimum Tare Weight to be at 80 Gram/Bag',
                      quantity:40,
                      price:400,
                      tonPerusd:397,
                      gw:500,
                      tare:5.6,
                      nw:1500,
                      amount:'200,000.00'
                    }
                  ],
                  total:60,
                  totalGross:2007.2,
                  tare:7.2,
                  netWeight:2000,
                  Amount:'402,250.00',
                  detail:'รายละเอียดเพิ่มเติม'
                },
                {
                  id:3 ,
                  invoiceNo:'c350/2558',
                  quantity:300000,
                  date:'22/05/2558',
                  bill:'COAU7130202710',
                  invoiceOf:'Bejin',
                  shippedPer:'ZHONG XING 898',
                  portOfLoading:'THBKK',
                  portOfDischarge:'YueyYang(Cheng Ling Ji)',
                  portOFDelivery:'YueyYang(Cheng Ling Ji)',
                  orderAndAcc:'คำสั่งที่ 12',
                  madeOutTo:'ส่งออก',
                  lot:[
                    {
                      id:1,
                      Marks:'makes',
                      descriptionOfGood:'Thai White Rice 5% Brokens, 2014 Current New Crop, Double-Polished And Sortexed Quality.',
                      packing:'In Strong Export Seaworthy New Single PP bags Of 50 Kilograms Net, Minimum Tare Weight to be at 80 Gram/Bag',
                      quantity:40,
                      price:400,
                      tonPerusd:397,
                      gw:500,
                      tare:5.6,
                      nw:1500,
                      amount:'200,000.00'
                    }
                  ],
                  total:60,
                  totalGross:2007.2,
                  tare:7.2,
                  netWeight:2000,
                  Amount:'402,250.00',
                  detail:'รายละเอียดเพิ่มเติม'
                }
              ]}
        }
      },
      created:function(){
        this.nxSetTitle('ทำสัญญา');
        this.nxSetLayout('layout-main');
      },
      nxGridTap:function(e){
        this.layerContent = e.detail.level;
        this.dataSelect = e.detail.data;
        console.log(this.dataSelect);
      },
      nxGridDblclick:function(e){
        if (e.detail.level == 'primary') {
          this.nxChangePath('/gtog/add-invoice');
        }
      }

    });
  </script>
</dom-module>
