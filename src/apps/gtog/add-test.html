<link rel="import" href="panel-seleted.html">
<link rel="import" href="components/grid/nx-grid.html">
<link rel="import" href="components/content-panel.html">

<link rel="import" href="components/list-datas.html">

<dom-module id="gtog-add-test">
  <template>
    <content-panel>
      <grid>
        <nx-grid data="{{data}}">
          <items type="primary">
            <list item="id" label="รหัส" width="flex"></list>
            <list item="promiseName" label="ชื่อ" width="flex-3"></list>
            <list item="date" label="ปี" width="flex"></list>
          </items>
          <items type="secondary" item="sub">
            <list item="" label="" width="flex"></list>
            <list item="confirmLetter" label="Confirmation Letter" width="flex-9"></list>
          </items>
          <template type="primary">
            <input placeholder="text" value="primary">
          </template>
          <template type="secondary">
            <input placeholder="text" value="secondary">
          </template>
        </nx-grid>
      </grid>
      <panel>
        <list-datas></list-datas>
      </panel>
    </content-panel>
  </template>
  <script>
    Polymer({
      is: "gtog-add-test",
      listeners:{
        'nx-grid-tap':'nxGridTap',
        'nx-grid-dblclick':'nxGridDblclick'
      },
      behaviors: [
        nxCoreBehavior,
        nxLocalesBehavior
      ],
      properties:{
          layerContent:{
            type:String,
            value:"primary"
          },
          pageSeletedDetail:{
            type:String,
            value:'promiseDetail'
          },
          data:{
            type:Object,
            value:function(){
              return [
                {

                },
                {

                }
              ]}
        }
      },
      created:function(){
        this.nxSetTitle('ทำสัญญา');
        this.nxSetLayout('layout-main');

      },
      attached: function() {
        this.layoutMain = this.nxGetGlobalElement('layoutMain');
      },
      nxGridTap:function(e){
        this.layerContent = e.detail.level;
        this.dataSelect = e.detail.data;
        // console.log(this.dataSelect);
      },
      nxGridDblclick:function(e){
        if (e.detail.level == 'primary') {
          this.nxChangePath('/gtog/add-period');
          //this.layoutMain.changePath('/gtog/add-period');
        }
      }
    });
  </script>
</dom-module>
