<link rel="import" href="components/my-listmenu.html">
<link rel="import" href="components/nx-grid.html">
<link rel="import" href="components/my-panel.html">

<dom-module id="dashboard-my-dashboard">
  <style media="screen">
    .flex-horizontal {
   @apply(--layout-horizontal);
   }
   .flexchild-1 {
     @apply(--layout-flex);
   }
   .flexchild-2 {
     @apply(--layout-flex-2);
   }
   .rightdata{
     height:100%;
     /*display: none;*/
     border-left: 1px solid var(--paper-grey-300);
     padding: 5px 10px 0px 10px;
   }
   .bd {
     /*border: 1px solid #000;*/
   }
   #changeDivcss{
      -webkit-transition: all 1s ease;
      -moz-transition: all 1s ease;
      -o-transition: all 1s ease;
      transition: all 1s ease;

   }
  </style>
  <template>
    <div class=" flex-horizontal">
      <div class="flexchild-1 ">
      <!-- <span>numSelect<span>  {{numSelect}} -->
        <!-- <my-listmenu label="name" data="[[data.0.detail]]" seleted="{{dataSelected}}"></my-listmenu> -->
        <nx-grid data="{{data}}" seleted="{{dataSelected}}" seleted-menu="{{numSelect}}">
            <items type="primary">
                <list item="id" label="รหัส" width="20%"></list>
                <list item="name" label="ชื่อ" width="50%"></list>
                <list item="detail" label="รายละเอียด" width="30%"></list>
            </items>
            <items type="secondary" item="sub">
                <list item="id" label="รหัส" width="50%"></list>
                <list item="name" label="ชื่อ" width="50%"></list>
            </items>
        </nx-grid>
        <button type="button" name="button" on-tap="changeDiv">เปลี่ยนขนาด</button>
      </div>

      <div class=" rightdata flexchild-1"id="changeDivcss">
        <!-- <rice-promise-detail data="{{dataSelected}}"></rice-promise-detail> -->
          <my-panel dataselected="{{dataSelected}}"></my-panel>
      </div>
    </div>


  </template>
  <script>
    Polymer({
      is: "dashboard-my-dashboard",
      behaviors: [
        nxCoreBehavior,
        nxLocalesBehavior
      ],
      properties:{
          data:{
              type:Object,
              value:function(){
                return [
                  {
                    id:1 , name:'BEE', detail:'บี', sub:[
                      {id:11 , name:'COFCO ประเทศจีน',year:'2558'},
                      {id:12 , name:'BULOG ประเทศอินโดนีเซีย',year:'2558'},
                      {id:13 , name:'NFA ประเทศฟิลิปินส',year:'2558'}
                    ]
                  },
                  {
                    id:2 , name:'nk', detail:'น้ำแข็ง', sub:[
                      {id:21 , name:'n1',year:'2558'},
                      {id:22 , name:'n2',year:'2558'}
                    ]
                  }
                ]
                // return [
                //   {
                //     id:1 , name:'BEE', detail:[
                //        {id:11 , name:'COFCO ประเทศจีน',year:'2558'},
                //        {id:12 , name:'BULOG ประเทศอินโดนีเซีย',year:'2558'},
                //        {id:13 , name:'NFA ประเทศฟิลิปินส',year:'2558'}
                //     ]
                //   },
                //   {
                //     id:2 , name:'nk', detail:[
                //        {id:21 , name:'n1',year:'2558'},{id:22 , name:'n2',year:'2558'}
                //     ]
                //   }
                // ]
              }
          }
      },
      changeDiv:function(){
        var css = Polymer.dom(this.root).querySelector('#changeDivcss');
        // เช็คว่ามีแล้วหรือยัง ถ้ามีแล้วก็ไม่เพิ่ม
        // console.log(css);
        console.log(css.classList.contains('flexchild-2'));
        if (css.classList.contains('flexchild-2') == false){
          // css.style.display = "inline";
          css.className += " flexchild-2";
        }else{
          // css.style.display = "none";
          css.classList.remove("flexchild-2");
        }

      },
      created:function(){
        this.nxSetTitle('ทำสัญญา');
        this.nxSetLayout('layout-main');
      },
      observers:['obdata(dataSelected)','obDataChange(data.*)'],
      obdata:function(select){
          console.log(select);
          // console.log(this.numSelect);
      },
      obDataChange:function(x){
        // console.log('sss');
      },

    });
  </script>
</dom-module>
