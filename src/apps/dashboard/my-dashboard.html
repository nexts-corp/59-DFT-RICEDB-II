<link rel="import" href="components/my-listmenu.html">
<link rel="import" href="components/nx-grid.html">
<link rel="import" href="panel-seleted.html">
<link rel="import" href="components/rice-promise/rice-promise-detail.html">
<link rel="import" href="components/rice-promise/rice-promise-fileup.html">
<link rel="import" href="components/rice-promise/rice-promise-file.html">
<link rel="import" href="components/rice-promise/rice-promise-confirm.html">
<link rel="import" href="components/rice-period/rice-period-lot.html">
<link rel="import" href="components/rice-period/rice-period-city.html">
<link rel="import" href="components/rice-vessel/rice-vessel-detail.html">

<dom-module id="dashboard-my-dashboard">
  <style media="screen">
    .flex-horizontal {
   @apply(--layout-horizontal);
   }
   .flexchild-1 {
     @apply(--layout-flex);
   }
   .flexchild-2 {
     @apply(--layout-flex-2);
   }
   .rightdata{
     border-left: 1px solid var(--paper-grey-300);
     padding: 5px 10px 0px 10px;
   }
   .bd {
     /*border: 1px solid #000;*/
   }
  </style>
  <template>
    <div class=" flex-horizontal">
      <div class="flexchild-1 bd ">
      <span>numSelect<span>  {{numSelect}}
        <!-- <my-listmenu label="name" data="[[data.0.detail]]" seleted="{{dataSelected}}"></my-listmenu> -->
        <nx-grid data="{{data}}" seleted="{{dataSelected}}" seletedmenu="{{numSelect}}">
            <items type="primary">
                <list item="id" label="รหัส" width="20%"></list>
                <list item="name" label="ชื่อ" width="50%"></list>
                <list item="detail" label="รายละเอียด" width="30%"></list>
            </items>
            <items type="secondary" item="sub">
                <list item="id" label="รหัส" width="50%"></list>
                <list item="name" label="ชื่อ" width="50%"></list>
            </items>
        </nx-grid>
      </div>

      <div class="flexchild-1 rightdata bd ">

        <panel-seleted>
          <section-content name="detail">
            <!-- <rice-promise-detail data="{{dataSelected}}"></rice-promise-detail> -->
            <rice-promise-confirm></rice-promise-confirm>
            <!-- <rice-promise-fileup></rice-promise-fileup> -->
            <!-- <rice-period-lot></rice-period-lot> -->
            <!-- <rice-period-city></rice-period-city> -->
            <!-- <rice-vessel-detail></rice-vessel-detail> -->
          </section-content>
          <section-content name="print">

          </section-content>
          <section-content name="file">
            <!-- <rice-file></rice-file> -->
            <!-- <rice-fileup></rice-fileup> -->
          </section-content>
        </panel-seleted>

      </div>
    </div>


  </template>
  <script>
    Polymer({
      is: "dashboard-my-dashboard",
      behaviors: [
        nxCoreBehavior,
        nxLocalesBehavior
      ],
      properties:{
          data:{
              type:Object,
              value:function(){
                return [
                  {
                    id:1 , name:'BEE', detail:'บี', sub:[
                      {id:11 , name:'COFCO ประเทศจีน',year:'2558'},
                      {id:12 , name:'BULOG ประเทศอินโดนีเซีย',year:'2558'},
                      {id:13 , name:'NFA ประเทศฟิลิปินส',year:'2558'}
                    ]
                  },
                  {
                    id:2 , name:'nk', detail:'น้ำแข็ง', sub:[
                      {id:21 , name:'n1',year:'2558'},
                      {id:22 , name:'n2',year:'2558'}
                    ]
                  }
                ]
                // return [
                //   {
                //     id:1 , name:'BEE', detail:[
                //        {id:11 , name:'COFCO ประเทศจีน',year:'2558'},
                //        {id:12 , name:'BULOG ประเทศอินโดนีเซีย',year:'2558'},
                //        {id:13 , name:'NFA ประเทศฟิลิปินส',year:'2558'}
                //     ]
                //   },
                //   {
                //     id:2 , name:'nk', detail:[
                //        {id:21 , name:'n1',year:'2558'},{id:22 , name:'n2',year:'2558'}
                //     ]
                //   }
                // ]
              }
          }
      },
      created:function(){
        this.nxSetTitle('ทำสัญญา');
        this.nxSetLayout('layout-main');
      },
      observers:['obdata(dataSelected)','obDataChange(data.*)'],
      obdata:function(select){
          console.log(select);
          // console.log(this.numSelect);
      },
      obDataChange:function(x){
        // console.log('sss');
      },

    });
  </script>
</dom-module>
