<style media="screen">
  html,body {
   margin: 0;
   height: 100%;
  }
</style>
<link rel="import" href="components/icon-toggle.html">
<dom-module id="layout-main">
  <style is="custom-style" include="iron-flex iron-flex-alignment">
  .iconhead{
    --iron-icon-height: 20px;
     --iron-icon-width: 20px;
  }
  paper-toolbar.toolbarHead {
     --paper-toolbar-background: var(--paper-orange-300);
     --paper-toolbar-height:15px;
     --paper-toolbar-title: {
       font-size: 1em;
       height: 20px;
       margin-left: 1px;
     };

   }
  paper-toolbar.toolbarMid {
    --paper-toolbar-background: var(--paper-grey-50);
    --paper-toolbar-height:50px;
    --paper-toolbar-title: {
        font-size: 1em;
        color: black;
        font-weight: bold;
    };
  }
    .toolbarMid:last-of-type {
      margin-bottom: 10px;
      /*box-shadow: 0px 3px 9px #888888;*/
    }

    paper-button.custom {
      --paper-button:{
        height: 33px;
        width: 90px;
      }
     --paper-button-ink-color: var(--paper-green-a200);
     --paper-button-flat-keyboard-focus: {
       background-color: var(--paper-green-a200);
       color: white !important;
     };
     --paper-button-raised-keyboard-focus: {
       background-color: var(--paper-green-a200) !important;
       color: white !important;
     };
   }
     paper-button.custom:hover {
      background-color: var(--paper-green-100);
    }
    paper-button.green {
      background-color: var(--paper-green-500);
      color: white;
      --paper-button-raised-keyboard-focus: {
        background-color: var(--paper-pink-a200) !important;
        color: white !important;
      };
    }
    paper-icon-button.pink {
     color: var(--paper-grey-700);
     --paper-icon-button-ink-color: var(--paper-indigo-500);
    }
    paper-icon-button.pink:active {
      background-color: var(--paper-pink-500);
      color: white;
    }
    paper-progress.slow {
    --paper-progress-active-color:var(--paper-orange-300);
   --paper-progress-indeterminate-cycle-duration: 2s;
 }
  </style>
  <template>
        <paper-toolbar class="toolbarHead"></paper-toolbar>
        <paper-toolbar class="toolbarMid">
          <div>
            <div class="title">ระบบการขายและการส่งมอบข้าวรัฐบาลต่อรัฐบาล</div>
            <div class="title">  COCCO ประเทศจีน</div>
          </div>
        </paper-toolbar>
        <paper-toolbar class="toolbarMid">
          <span class="title">
            <paper-button raised class="custom green">เพิ่ม</paper-button>
          </span>
          <icon-toggle toggles tabindex="0" on-tap="togglePanel" id="changeWidth">
            <iron-icon class="iconhead" icon="swap-horiz" title="ย่อ/ขยายหน้าต่าง" ></iron-icon>
          </icon-toggle>
          <icon-toggle toggles tabindex="0" on-tap="loadPages">
            <iron-icon class="iconhead" icon="settings" title="ตั้งค่า" ></iron-icon>
          </icon-toggle>
          <template is="dom-if" if="[[loadContent]]">
              <paper-progress class="middle fit slow" indeterminate></paper-progress>
          </template>

        </paper-toolbar>
        <tag-page-load id="tagPageLoad"></tag-page-load>


    </html>
  </template>
  <script>
    Polymer({
      is:'layout-main',
      behaviors:[nxTemplateBehavior,nxLocalesBehavior,nxCoreBehavior],
      properties: {
        loadContent: {
          type: Boolean,
          value:false
        }
      },
      created: function() {
        this.nxSetGlobalElement('layoutMain');
      },
      changePath:function(path){
        this.loadContent = true;
        console.log('a',this.loadContent);
        this.nxChangePath(path);
      },
      ready:function(){
        // this._observer = Polymer.dom(this.$.tagPageLoad).observeNodes((info)=>{
        //
        //   this.loadContent = false;
        //   console.log('b',this.loadContent);
        // });
      },
      attached: function() {
        //
        if(localStorage.getItem("togglePanel")=="true"
        && localStorage.getItem("togglePanel")!=null){
          var button = Polymer.dom(this.root).querySelector('#changeWidth');
          button.setAttribute("active","")
        }
      },
      togglePanel:function(e){
        //if(typeof e.currentTarget.getAttribute('active') != "object"){}
        //เรียกใช้อีรีเม็นแล้วเข้าไปใช้ฟั่งชั่น
        this.nxGetGlobalElement('contentPanel').changeDiv();
      },
      changeLanguage:function(){
        if(this.language == 'th'){
          this.nxSwitchLanguage('en');
        }else{
          this.nxSwitchLanguage('th');
        }
      }
    });
  </script>

</dom-module>
