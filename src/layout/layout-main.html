<link rel="import" href="../../bower_components/polymer/polymer.html">
 
<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer/app-drawer.html">


<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">

<link rel="import" href="./layout-main-toolbar.html">

<link rel="import" href="./layout-main-drawer.html">


<dom-module id="layout-main">
	<template>
	<style>
		#drawer{
			z-index: 1;
			--app-drawer-width: 400px;
		}
	</style>
		<app-drawer id="drawer">
			<layout-main-drawer on-toggle-drawer="_toggleDrawer"></layout-main-drawer>
		</app-drawer>

		<app-header-layout>
			<app-header fixed condenses effects="waterfall">
				<layout-main-toolbar on-toggle-drawer="_toggleDrawer"></layout-main-toolbar>
			</app-header>
			<content></content>
		</app-header-layout>
		
		<paper-toast class="setPosition" id="toastLoading" positionTarget duration="0" text="">
            <div class="loading">
                <paper-spinner active></paper-spinner>
                <span style="padding-left:10px; position:relative; bottom: 6px;">
                    กำลังโหลด
                </span>
                <!--<paper-button onclick="toast1.toggle()" class="yellow-button">Close now!</paper-button>-->
            </div>
        </paper-toast>
	</template>


	<script>
        Polymer({
            is:'layout-main',
			_toggleDrawer:function(){
				this.$.drawer.toggle();
			},
			openToastLoading:function(){
                this.$.toastLoading.open();
            },
            closeToastLoading:function(callback){
                this.async(function(){
                    this.$.toastLoading.hide();
                    callback();
                }.bind(this),500);
            },
        });
    </script>
</dom-module>