<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>Rice App</title>
    <link rel="shortcut icon" sizes="32x32" href="/images/rice-icon-32.png">
    <meta name="theme-color" content="#fff">
    <link rel="manifest" href="/manifest.json">

    <script>
      // setup Polymer options
      window.Polymer = {lazyRegister: true, dom: 'shadow'};
      
      // load webcomponents polyfills
      (function() {

        //debug
        window.l = function(m){
          console.log(m);
        }

        if ('registerElement' in document
            && 'import' in document.createElement('link')
            && 'content' in document.createElement('template')) {
          // browser has web components
        } else {
          // polyfill web components
          var e = document.createElement('script');
          e.src = '/bower_components/webcomponentsjs/webcomponents-lite.min.js';
          e.async = true;
          document.head.appendChild(e);
        }
      })();

      // load pre-caching service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('/service-worker.js');
        });
      }
    </script>
    <link rel="import" href="/src/init-system.html">
    <link rel="import" href="/bower_components/9lon/src/nx-system.html">
  </head>
  <body>
    <nx-system></nx-system>
  </body>
</html>
