<link rel="import" href="../../../../../bower_components/gl-form/gl-form-panel.html">
<link rel="import" href="./../../components/format-number-behavior.html">
<link rel="import" href="./../../components/month-behavior.html">

<dom-module id="confirm-transfer">
  <style is="custom-style" include="iron-flex iron-flex-alignment gl-color gl-table">
    *{
      text-align: left;
    }
    .title{
      padding: 10px;
      font-size: 18px;
      color: white;
      background-color: orange;
      /*width: 25%;*/
    }
    .content,paper-button,h2{
      font-size:16px;
      margin-top: 26px;
      font-family: 'CSChatThaiUI', sans-serif !important;
      -webkit-font-smoothing: antialiased;
    }
    table.default {
      border-collapse: collapse;
      width: 100%
    }

    table.default,
    th,
    td {
      border-bottom: 1px solid #ddd;
    }

    th,
    td {
      padding: 15px;
    }

    th {
      text-align: center;
      background-color: #F1F1F1;
      white-space: nowrap;
    }

    td {
      text-align: left;
      white-space: nowrap;
    }

    tr:hover {
      background-color: #F1F1F1;
    }
    .number{
      text-align: right;
    }
    .textHeader{
      padding:20px;
      text-align: center;
      font-size: 22px;  
    }
  </style>
  <template>
    <!--<div class="textHeader">ยืนยันรับส่วนจัดสรร</div>-->
    <gl-form-panel set-padding = "0px 0px 20px 0px">
      <div class="title">ข้อมูลบริษัท</div>
     
      <gl-form-panel-body set-padding = "0px 0px 0px 0px" set-border="0px">
         <gl-grid-row width="{{getWidth}}">
          <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,2]]">
          </gl-grid-col>
          <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,4]]">
              <gl-combo-box class="saveData" label="กรุณาเลือกบริษัทที่ต้องการ" items="{{data}}" value="{{selectExporter}}" item-label-path="name" item-value-path="exporter_id"
               error-message="กรุณาเลือกบริษัท"></gl-combo-box>
          </gl-grid-col>
          <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]">
              <paper-button class="gl-btn-primary" on-tap="searchTransfer" raised>ตกลง</paper-button>
            <!--<gl-form-label-input label="ชื่อบริษัท(ไทย)" value="{{data.a}}"></gl-form-label-input>-->
          </gl-grid-col>
           <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,3]]">
             
            <!--<gl-form-label-input label="ชื่อบริษัท(อังกฤษ)" value="Kamolkich., Ltd"></gl-form-label-input>-->
          </gl-grid-col>
           <gl-grid-col width="[[getWidth]]" grid="[[300,12],[500,2]]">
           </gl-grid-col>
        </gl-grid-row>
      </gl-form-panel-body>
    </gl-form-panel>

    <gl-form-panel set-padding = "0px 0px 20px 0px">
      <div class="title">รายละเอียดปริมาณจัดสรร</div>
      <gl-form-panel-body set-padding = "0px 0px 0px 0px" set-border="0px">
          <div style="padding: 20px;">
           <table class="gl-table-default">
           <thead>
                <tr>
                    <th class="left">ลำดับที่</th>
                    <th class="left">ผู้ส่งออก</th>
                    <th>ปริมาณโควตารวม</th>
                    <template is="dom-repeat" items="">
                        <th>งวดที่ {{item.period}} [[getMonthName(item.month)]]</th>
                    </template>
                </tr>
            </thead>
            <tbody>
           
            <template is="dom-repeat" items="{{dataList}}">
                <tr data="{{item}}">
                    <td class="left">[[_num(index)]]</td>
                    <td class="left">{{item.name}}</td>
                    <td>{{formatNumber(item.amount)}}</td>
                    <template is="dom-repeat" items="{{item.quantity}}">
                        <td>{{formatNumber(item.weigth)}}</td>
                    </template>
                </tr>
            </template>
             </tbody> 
        </table>
        </div>
      </gl-form-panel-body>
          
      </gl-form-panel>

    <div class="horizontal end-justified layout">
        <paper-button class="gl-btn-primary" on-tap="_configTransfer" raised>โอนส่วนจัดสรร</paper-button>
    </div>
   
  </template>
  <script>
    Polymer({
      is: "confirm-transfer",
      behaviors:[FormatNumberBehavior,MonthBehavior],
      searchTransfer:function(){
          this.fire('select-transfer',this.selectExporter)
      }
    });
  </script>
</dom-module>
