
<link rel="import" href="./../components/data-manage-behavior.html">
<link rel="import" href="./components/money-list.html">
<dom-module id="page-money">
    <template>
        <style include="iron-flex iron-flex-factors iron-flex-alignment gl-size gl-color gl-panel">
            *{
                font-family: 'rsuregular', sans-serif;
                -webkit-font-smoothing: antialiased;
            }
            .title {
                text-align: center;
                font-size: var(--font-size-h3); 
                margin-top:20px;
                margin-bottom: 20px;
            }      
            .content {
                padding:20px;
            }
            .flex-end-justified {
                @apply(--layout-horizontal);
                @apply(--layout-end-justified);
            }
            .searchBox {
                padding: 10px;
                background-color: var(--gl-gray-lighter-color);
            }
            .searchBorder {
                border: 1px solid var(--gl-gray-lighter-color);
                margin: 15px;
                border-radius: 3px;
            }
            paper-button,.font{
                 font-family: 'CSChatThaiUI', sans-serif !important;
                -webkit-font-smoothing: antialiased;
            }
        </style>

        <div class="flex title">
            รายงานการรับเงินค่าธรรมเนียมพิเศษ
        </div>
            <div class="flex searchBox searchBorder">
            <div class="layout horizontal">
              <div class="flex"></div>
              <div class="flex-2 layout horizontal">
                <vaadin-date-picker label="วันที่เริ่มต้น" value="{{get.date_fist}}"></vaadin-date-picker>
              </div>
              <div class="flex-2 layout horizontal">
                <vaadin-date-picker label="วันที่สิ้นสุด" value="{{get.date_last}}"></vaadin-date-picker>
              </div>
              <div class="flex-2 layout horizontal">
                <paper-button class="gl-btn-primary" on-tap="showData"raised >ค้นหา</paper-button>
              </div>
            </div>
            <div class="flex"></div>
          </div>
          <div class="gl-panel-default">
            <div class="gl-panel-default-header">
                แสดงข้อมูล
            </div>
            <div class="gl-panel-default-content">  
                <div style="overflow-x:auto;">
                    <money-list data="[[listData]]"></money-list>
                </div>
                <div class="flex-end-justified" style="padding:10px;">
                    <paper-button class="gl-btn-primary" on-tap="activeReports" raised >ออกรายงาน</paper-button>
                </div>
            </div>
        </div>
        
    </template>
    <script>
        Polymer({
            is: 'page-money',
            properties:{
                get : {
                    type: Object,
                    value:{}
                }
            },
            showData:function(){
                console.log(this.get);
                axios.get('./payment/report')
                .then((response)=>{
                    console.log("success");
                    console.log(response.data);
                    this.listData = response.data;
                    // this.quotaYear = response.data.map(item=>{
                    // return item.toString();
                    // });
                    // console.log(this.quotaYear);
                })
                .catch((error)=>{
                    console.log("error");
                    console.log(error.message);
                    this.fire('toast',{status:'connectError',text:error.message,
                    callback:function(){
                    }})
                });
            },
            activeReports:function(){
                console.log('activeReports');
            }
            // downloadFile:function(){
            //    window.open('/report/report.pdf','_blank');
            //  }
        });
    </script>
</dom-module>
